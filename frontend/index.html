<!-- 
  Copyright 2023 The MediaPipe Authors.
  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at
       http://www.apache.org/licenses/LICENSE-2.0
  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="Cache-control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />

    <title>Eye Break Reminder + Face Landmarker</title>

    <!-- Fonts & Styles -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="mediapipe.css">

    <!-- Material Components (for Face Landmarker demo buttons) -->
    <link href="https://unpkg.com/material-components-web@latest/dist/material-components-web.min.css" rel="stylesheet">
    <script src="https://unpkg.com/material-components-web@latest/dist/material-components-web.min.js"></script>

    <!-- Scripts -->
    <script src="overlay.js" defer></script>
    <script type="module" src="face.js" defer></script>
    <script type="text/javascript" src="/eel.js"></script>
  </head>

  <body>
    <!-- ğŸŒŸ Eye Break Reminder Section -->
    <!-- ğŸŒŸ Eye Break Reminder Section -->
<!-- ğŸŒŸ Eye Break Reminder Section -->
<!-- ğŸŒŸ Eye Break Reminder Section -->
<!-- <section id="eye-break">
  <div class="card-container">
    
    CARD 1: Eye Break Reminder
    <div class="card-side card-second" id="card1">
      <div class="mascot"><img src="assets/clock-circle.svg" class="icon" /></div>
      <h2>Eye Break Time!</h2>
      <p>You've been staring for a while ğŸ‘€<br>
        Look at something 20 ft away for 20 seconds ğŸ’«</p>
      <button id="nextToDidYouKnow">Okay!</button>
    </div>

    CARD 2: Did You Know
    <div class="card-side card-second" id="card2" style="display: none;">
      <div class="mascot">ğŸ“šğŸ£</div> 
      <h2>Did You Know?</h2> 
      <p>50â€“90% of people who use digital screens experience 
        <strong>Computer Vision Syndrome</strong> ğŸ˜³</p> 
      <p style="font-size: 14px; margin-top:4px;">
        Blink often and rest your eyes!
      </p>
      <button id="nextToGame">Next Exercise</button>
    </div>

    CARD 3: Eye Movement Game
    <div class="card-side card-second" id="card3" style="display: none;">
      <div class="mascot">ğŸ¯ğŸ‘ï¸</div> 
      <h2>Eye Movement Exercise</h2> 
      <p style="font-size: 14px; margin-bottom: 16px;">
        Click the circles as they appear!<br>
        This trains your eye muscles ğŸ’ª
      </p>
      
      <div id="eyeGameArea" class="eye-game-area">
        <div id="targetCircle" class="target-circle"></div>
        <div id="gameScore" class="game-score">0 / 8</div>
      </div>
      
      <button id="startGameBtn" class="game-btn">Start Exercise</button>
    </div>

    CARD 4: CVS Facts
    <div class="card-side card-second" id="card4" style="display: none;">
      <div class="mascot">ğŸ’¡ğŸ“Š</div> 
      <h2>CVS Quick Facts</h2> 
      <p>Computer Vision Syndrome affects <strong>60 million people</strong> globally ğŸŒ</p>
      <p style="font-size: 14px; margin-top: 12px;">
        Symptoms include: eye strain, headaches, blurred vision, and dry eyes. 
        Taking regular breaks reduces symptoms by <strong>70%</strong>! âœ¨
      </p>
      <button id="nextToBlink">Continue</button>
    </div>

    CARD 5: Blink Recharge
    <div class="card-side card-second" id="blinkCard" style="display: none;">
      <div class="mascot">ğŸ‘€ğŸ’§</div>
      <h2>Blink Recharge</h2>
      <p>Your eyes got dry ğŸ˜¢<br>Hold the button & blink slowly!</p>
      <div class="progress-container">
        <div id="progressBar" class="progress-bar"></div>
      </div>
      <button id="holdBtn">Hold & Blink ğŸ‘ï¸</button>
    </div>

    CARD 6: Final
    <div class="card-side card-final" id="doneCard">
      <div class="mascot">âœ¨ğŸ°</div>
      <h2>Eyes Refreshed!</h2>
      <p>Nice blinking! Your eye moisture is restored ğŸ’§</p>
    </div>
    
  </div>
</section> -->
    <section id="mediapipe-demo">
      <div class="blend-shapes">
        <ul class="blend-shapes-list" id="image-blend-shapes"></ul>
      </div>

      <h2>Demo: Webcam continuous face landmarks detection</h2>
      <p>
        Hold your face in front of your webcam to get real-time face landmarker detection.</br>
        Click <b>enable webcam</b> below and grant access to the webcam if prompted.
      </p>

      <div id="liveView" class="videoView">
        <button id="webcamButton" class="mdc-button mdc-button--raised">
          <span class="mdc-button__ripple"></span>
          <span class="mdc-button__label">ENABLE WEBCAM</span>
        </button>
        <div style="position: relative;">
          <video id="webcam" autoplay playsinline></video>
          <canvas class="output_canvas" id="output_canvas" style="position: absolute; left: 0; top: 0;"></canvas>
        </div>
      </div>

      <div class="blend-shapes">
        <ul class="blend-shapes-list" id="video-blend-shapes"></ul>
      </div>

      <div style="margin:12px 0; display:flex; gap:8px; flex-wrap:wrap;">
        <button id="start-log">Start logging</button>
        <button id="stop-log" disabled>Stop logging</button>
        <button id="download-csv" disabled>Download CSV</button>
        <span id="log-status" style="margin:12px 0; display:flex; gap:8px; flex-wrap:wrap;"></span>
      </div>
    </section>
  </body>
</html>
